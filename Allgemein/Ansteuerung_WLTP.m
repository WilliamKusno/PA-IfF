%%-----WLTP-Verbrauchssimulation-----%%

%%Init
clc
clear all %Workspace leeren
cd('C:\Users\ohms\Desktop\Studentische Arbeiten\2021_PA_Getriebe\Gruppe2_VKM') %Öffne Projektordner

%%Fahrzeugdaten, die im Modell verwendet werden
cw=0.28; %Luftwiderstandsbeiwert
rho=1.2; %Luftdichte in kg/m^3
fr=1e-3; %Reibbeiwert
mfzg=1500; %Fahrzeugmasse in kg
lambda=1.25; %Drehmassenzuschlagsfaktor
A=2.4; %Querspantfläche in m^2
g=9.81; %Erdbeschleunigung
rdyn=0.35; %Reifendurchmesser
eta_getr=0.96; %Getriebewirkungsgrad

%%WLTP
WLTP_v=[0;0;0;0;0;0;0;0;0;0;0;0;0.200000000000000;1.70000000000000;5.40000000000000;9.90000000000000;13.1000000000000;16.9000000000000;21.7000000000000;26;27.5000000000000;28.1000000000000;28.3000000000000;28.8000000000000;29.1000000000000;30.8000000000000;31.9000000000000;34.1000000000000;36.6000000000000;39.1000000000000;41.3000000000000;42.5000000000000;43.3000000000000;43.9000000000000;44.4000000000000;44.5000000000000;44.2000000000000;42.7000000000000;39.9000000000000;37;34.6000000000000;32.3000000000000;29;25.1000000000000;22.2000000000000;20.9000000000000;20.4000000000000;19.5000000000000;18.4000000000000;17.8000000000000;17.8000000000000;17.4000000000000;15.7000000000000;13.1000000000000;12.1000000000000;12;12;12;12.3000000000000;12.6000000000000;14.7000000000000;15.3000000000000;15.9000000000000;16.2000000000000;17.1000000000000;17.8000000000000;18.1000000000000;18.4000000000000;20.3000000000000;23.2000000000000;26.5000000000000;29.8000000000000;32.6000000000000;34.4000000000000;35.5000000000000;36.4000000000000;37.4000000000000;38.5000000000000;39.3000000000000;39.5000000000000;39;38.5000000000000;37.3000000000000;37;36.7000000000000;35.9000000000000;35.3000000000000;34.6000000000000;34.2000000000000;31.9000000000000;27.3000000000000;22;17;14.2000000000000;12;9.10000000000000;5.80000000000000;3.60000000000000;2.20000000000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0.200000000000000;1.90000000000000;6.10000000000000;11.7000000000000;16.4000000000000;18.9000000000000;19.9000000000000;20.8000000000000;22.8000000000000;25.4000000000000;27.7000000000000;29.2000000000000;29.8000000000000;29.4000000000000;27.2000000000000;22.6000000000000;17.3000000000000;13.3000000000000;12;12.6000000000000;14.1000000000000;17.2000000000000;20.1000000000000;23.4000000000000;25.5000000000000;27.6000000000000;29.5000000000000;31.1000000000000;32.1000000000000;33.2000000000000;35.2000000000000;37.2000000000000;38;37.4000000000000;35.1000000000000;31;27.1000000000000;25.3000000000000;25.1000000000000;25.9000000000000;27.8000000000000;29.2000000000000;29.6000000000000;29.5000000000000;29.2000000000000;28.3000000000000;26.1000000000000;23.6000000000000;21;18.9000000000000;17.1000000000000;15.7000000000000;14.5000000000000;13.7000000000000;12.9000000000000;12.5000000000000;12.2000000000000;12;12;12;12;12.5000000000000;13;14;15;16.5000000000000;19;21.2000000000000;23.8000000000000;26.9000000000000;29.6000000000000;32;35.2000000000000;37.5000000000000;39.2000000000000;40.5000000000000;41.6000000000000;43.1000000000000;45;47.1000000000000;49;50.6000000000000;51.8000000000000;52.7000000000000;53.1000000000000;53.5000000000000;53.8000000000000;54.2000000000000;54.8000000000000;55.3000000000000;55.8000000000000;56.2000000000000;56.5000000000000;56.5000000000000;56.2000000000000;54.9000000000000;52.9000000000000;51;49.8000000000000;49.2000000000000;48.4000000000000;46.9000000000000;44.3000000000000;41.5000000000000;39.5000000000000;37;34.6000000000000;32.3000000000000;29;25.1000000000000;22.2000000000000;20.9000000000000;20.4000000000000;19.5000000000000;18.4000000000000;17.8000000000000;17.8000000000000;17.4000000000000;15.7000000000000;14.5000000000000;15.4000000000000;17.9000000000000;20.6000000000000;23.2000000000000;25.7000000000000;28.7000000000000;32.5000000000000;36.1000000000000;39;40.8000000000000;42.9000000000000;44.4000000000000;45.9000000000000;46;45.6000000000000;45.3000000000000;43.7000000000000;40.8000000000000;38;34.4000000000000;30.9000000000000;25.5000000000000;21.4000000000000;20.2000000000000;22.9000000000000;26.6000000000000;30.2000000000000;34.1000000000000;37.4000000000000;40.7000000000000;44;47.3000000000000;49.2000000000000;49.8000000000000;49.2000000000000;48.1000000000000;47.3000000000000;46.8000000000000;46.7000000000000;46.8000000000000;47.1000000000000;47.3000000000000;47.3000000000000;47.1000000000000;46.6000000000000;45.8000000000000;44.8000000000000;43.3000000000000;41.8000000000000;40.8000000000000;40.3000000000000;40.1000000000000;39.7000000000000;39.2000000000000;38.5000000000000;37.4000000000000;36;34.4000000000000;33;31.7000000000000;30;28;26.1000000000000;25.6000000000000;24.9000000000000;24.9000000000000;24.3000000000000;23.9000000000000;23.9000000000000;23.6000000000000;23.3000000000000;20.5000000000000;17.5000000000000;16.9000000000000;16.7000000000000;15.9000000000000;15.6000000000000;15;14.5000000000000;14.3000000000000;14.5000000000000;15.4000000000000;17.8000000000000;21.1000000000000;24.1000000000000;25;25.3000000000000;25.5000000000000;26.4000000000000;26.6000000000000;27.1000000000000;27.7000000000000;28.1000000000000;28.2000000000000;28.1000000000000;28;27.9000000000000;27.9000000000000;28.1000000000000;28.2000000000000;28;26.9000000000000;25;23.2000000000000;21.9000000000000;21.1000000000000;20.7000000000000;20.7000000000000;20.8000000000000;21.2000000000000;22.1000000000000;23.5000000000000;24.3000000000000;24.5000000000000;23.8000000000000;21.3000000000000;17.7000000000000;14.4000000000000;11.9000000000000;10.2000000000000;8.90000000000000;8;7.20000000000000;6.10000000000000;4.90000000000000;3.70000000000000;2.30000000000000;0.900000000000000;0;0;0;0;0;0;0.500000000000000;2.10000000000000;4.80000000000000;8.30000000000000;12.3000000000000;16.6000000000000;20.9000000000000;24.2000000000000;25.6000000000000;25.6000000000000;24.9000000000000;23.3000000000000;21.6000000000000;20.2000000000000;18.7000000000000;17;15.3000000000000;14.2000000000000;13.9000000000000;14;14.2000000000000;14.5000000000000;14.9000000000000;15.9000000000000;17.4000000000000;18.7000000000000;19.1000000000000;18.8000000000000;17.6000000000000;16.6000000000000;16.2000000000000;16.4000000000000;17.2000000000000;19.1000000000000;22.6000000000000;27.4000000000000;31.6000000000000;33.4000000000000;33.5000000000000;32.8000000000000;31.9000000000000;31.3000000000000;31.1000000000000;30.6000000000000;29.2000000000000;26.7000000000000;23;18.2000000000000;12.9000000000000;7.70000000000000;3.80000000000000;1.30000000000000;0.200000000000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0.500000000000000;2.50000000000000;6.60000000000000;11.8000000000000;16.8000000000000;20.5000000000000;21.9000000000000;21.9000000000000;21.3000000000000;20.3000000000000;19.2000000000000;17.8000000000000;15.5000000000000;11.9000000000000;7.60000000000000;4;2;1;0;0;0;0.200000000000000;1.20000000000000;3.20000000000000;5.20000000000000;8.20000000000000;13;18.8000000000000;23.1000000000000;24.5000000000000;24.5000000000000;24.3000000000000;23.6000000000000;22.3000000000000;20.1000000000000;18.5000000000000;17.2000000000000;16.3000000000000;15.4000000000000;14.7000000000000;14.3000000000000;13.7000000000000;13.3000000000000;13.1000000000000;13.1000000000000;13.3000000000000;13.8000000000000;14.5000000000000;16.5000000000000;17;17;17;15.4000000000000;10.1000000000000;4.80000000000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;1;2.10000000000000;5.20000000000000;9.20000000000000;13.5000000000000;18.1000000000000;22.3000000000000;26;29.3000000000000;32.8000000000000;36;39.2000000000000;42.5000000000000;45.7000000000000;48.2000000000000;48.4000000000000;48.2000000000000;47.8000000000000;47;45.9000000000000;44.9000000000000;44.4000000000000;44.3000000000000;44.5000000000000;45.1000000000000;45.7000000000000;46;46;46;46.1000000000000;46.7000000000000;47.7000000000000;48.9000000000000;50.3000000000000;51.6000000000000;52.6000000000000;53;53;52.9000000000000;52.7000000000000;52.6000000000000;53.1000000000000;54.3000000000000;55.2000000000000;55.5000000000000;55.9000000000000;56.3000000000000;56.7000000000000;56.9000000000000;56.8000000000000;56;54.2000000000000;52.1000000000000;50.1000000000000;47.2000000000000;43.2000000000000;39.2000000000000;36.5000000000000;34.3000000000000;31;26;20.7000000000000;15.4000000000000;13.1000000000000;12;12.5000000000000;14;19;23.2000000000000;28;32;34;36;38;40;40.3000000000000;40.5000000000000;39;35.7000000000000;31.8000000000000;27.1000000000000;22.8000000000000;21.1000000000000;18.9000000000000;18.9000000000000;21.3000000000000;23.9000000000000;25.9000000000000;28.4000000000000;30.3000000000000;30.9000000000000;31.1000000000000;31.8000000000000;32.7000000000000;33.2000000000000;32.4000000000000;28.3000000000000;25.8000000000000;23.1000000000000;21.8000000000000;21.2000000000000;21;21;20.9000000000000;19.9000000000000;17.9000000000000;15.1000000000000;12.8000000000000;12;13.2000000000000;17.1000000000000;21.1000000000000;21.8000000000000;21.2000000000000;18.5000000000000;13.9000000000000;12;12;13;16.3000000000000;20.5000000000000;23.9000000000000;26;28;31.5000000000000;33.4000000000000;36;37.8000000000000;40.2000000000000;41.6000000000000;41.9000000000000;42;42.2000000000000;42.4000000000000;42.7000000000000;43.1000000000000;43.7000000000000;44;44.1000000000000;45.3000000000000;46.4000000000000;47.2000000000000;47.3000000000000;47.4000000000000;47.4000000000000;47.5000000000000;47.9000000000000;48.6000000000000;49.4000000000000;49.8000000000000;49.8000000000000;49.7000000000000;49.3000000000000;48.5000000000000;47.6000000000000;46.3000000000000;43.7000000000000;39.3000000000000;34.1000000000000;29;23.7000000000000;18.4000000000000;14.3000000000000;12;12.8000000000000;16;20.4000000000000;24;29;32.2000000000000;36.8000000000000;39.4000000000000;43.2000000000000;45.8000000000000;49.2000000000000;51.4000000000000;54.2000000000000;56;58.3000000000000;59.8000000000000;61.7000000000000;62.7000000000000;63.3000000000000;63.6000000000000;64;64.7000000000000;65.2000000000000;65.3000000000000;65.3000000000000;65.4000000000000;65.7000000000000;66;65.6000000000000;63.5000000000000;59.7000000000000;54.6000000000000;49.3000000000000;44.9000000000000;42.3000000000000;41.4000000000000;41.3000000000000;43;45;46.5000000000000;48.3000000000000;49.5000000000000;51.2000000000000;52.2000000000000;51.6000000000000;49.7000000000000;47.4000000000000;43.7000000000000;39.7000000000000;35.5000000000000;31.1000000000000;26.3000000000000;21.9000000000000;18;17;18;21.4000000000000;24.8000000000000;27.9000000000000;30.8000000000000;33;35.1000000000000;37.1000000000000;38.9000000000000;41.4000000000000;44;46.3000000000000;47.7000000000000;48.2000000000000;48.7000000000000;49.3000000000000;49.8000000000000;50.2000000000000;50.9000000000000;51.8000000000000;52.5000000000000;53.3000000000000;54.5000000000000;55.7000000000000;56.5000000000000;56.8000000000000;57;57.2000000000000;57.7000000000000;58.7000000000000;60.1000000000000;61.1000000000000;61.7000000000000;62.3000000000000;62.9000000000000;63.3000000000000;63.4000000000000;63.5000000000000;63.9000000000000;64.4000000000000;65;65.6000000000000;66.6000000000000;67.4000000000000;68.2000000000000;69.1000000000000;70;70.8000000000000;71.5000000000000;72.4000000000000;73;73.7000000000000;74.4000000000000;74.9000000000000;75.3000000000000;75.6000000000000;75.8000000000000;76.6000000000000;76.5000000000000;76.2000000000000;75.8000000000000;75.4000000000000;74.8000000000000;73.9000000000000;72.7000000000000;71.3000000000000;70.4000000000000;70;70;69;68;67.3000000000000;66.2000000000000;64.8000000000000;63.6000000000000;62.6000000000000;62.1000000000000;61.9000000000000;61.9000000000000;61.8000000000000;61.5000000000000;60.9000000000000;59.7000000000000;54.6000000000000;49.3000000000000;44.9000000000000;42.3000000000000;41.4000000000000;41.3000000000000;42.1000000000000;44.7000000000000;46;48.8000000000000;50.1000000000000;51.3000000000000;54.1000000000000;55.2000000000000;56.2000000000000;56.1000000000000;56.1000000000000;56.5000000000000;57.5000000000000;59.2000000000000;60.7000000000000;61.8000000000000;62.3000000000000;62.7000000000000;62;61.3000000000000;60.9000000000000;60.5000000000000;60.2000000000000;59.8000000000000;59.4000000000000;58.6000000000000;57.5000000000000;56.6000000000000;56;55.5000000000000;55;54.4000000000000;54.1000000000000;54;53.9000000000000;53.9000000000000;54;54.2000000000000;55;55.8000000000000;56.2000000000000;56.1000000000000;55.1000000000000;52.7000000000000;48.4000000000000;43.1000000000000;37.8000000000000;32.5000000000000;27.2000000000000;25.1000000000000;27;29.8000000000000;33.8000000000000;37;40.7000000000000;43;45.6000000000000;46.9000000000000;47;46.9000000000000;46.5000000000000;45.8000000000000;44.3000000000000;41.3000000000000;36.5000000000000;31.7000000000000;27;24.7000000000000;19.3000000000000;16;13.2000000000000;10.7000000000000;8.80000000000000;7.20000000000000;5.50000000000000;3.20000000000000;1.10000000000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0.800000000000000;3.60000000000000;8.60000000000000;14.6000000000000;20;24.4000000000000;28.2000000000000;31.7000000000000;35;37.6000000000000;39.7000000000000;41.5000000000000;43.6000000000000;46;48.4000000000000;50.5000000000000;51.9000000000000;52.6000000000000;52.8000000000000;52.9000000000000;53.1000000000000;53.3000000000000;53.1000000000000;52.3000000000000;50.7000000000000;48.8000000000000;46.5000000000000;43.8000000000000;40.3000000000000;36;30.7000000000000;25.4000000000000;21;16.7000000000000;13.4000000000000;12;12.1000000000000;12.8000000000000;15.6000000000000;19.9000000000000;23.4000000000000;24.6000000000000;25.2000000000000;26.4000000000000;28.8000000000000;31.8000000000000;35.3000000000000;39.5000000000000;44.5000000000000;49.3000000000000;53.3000000000000;56.4000000000000;58.9000000000000;61.2000000000000;62.6000000000000;63;62.5000000000000;60.9000000000000;59.3000000000000;58.6000000000000;58.6000000000000;58.7000000000000;58.8000000000000;58.8000000000000;58.8000000000000;59.1000000000000;60.1000000000000;61.7000000000000;63;63.7000000000000;63.9000000000000;63.5000000000000;62.3000000000000;60.3000000000000;58.9000000000000;58.4000000000000;58.8000000000000;60.2000000000000;62.3000000000000;63.9000000000000;64.5000000000000;64.4000000000000;63.5000000000000;62;61.2000000000000;61.3000000000000;62.6000000000000;65.3000000000000;68;69.4000000000000;69.7000000000000;69.3000000000000;68.1000000000000;66.9000000000000;66.2000000000000;65.7000000000000;64.9000000000000;63.2000000000000;60.3000000000000;55.8000000000000;50.5000000000000;45.2000000000000;40.1000000000000;36.2000000000000;32.9000000000000;29.8000000000000;26.6000000000000;23;19.4000000000000;16.3000000000000;14.6000000000000;14.2000000000000;14.3000000000000;14.6000000000000;15.1000000000000;16.4000000000000;19.1000000000000;22.5000000000000;24.4000000000000;24.8000000000000;22.7000000000000;17.4000000000000;13.8000000000000;12;12;12;13.9000000000000;17.7000000000000;22.8000000000000;27.3000000000000;31.2000000000000;35.2000000000000;39.4000000000000;42.5000000000000;45.4000000000000;48.2000000000000;50.3000000000000;52.6000000000000;54.5000000000000;56.6000000000000;58.3000000000000;60;61.5000000000000;63.1000000000000;64.3000000000000;65.7000000000000;67.1000000000000;68.3000000000000;69.7000000000000;70.6000000000000;71.6000000000000;72.6000000000000;73.5000000000000;74.2000000000000;74.9000000000000;75.6000000000000;76.3000000000000;77.1000000000000;77.9000000000000;78.5000000000000;79;79.7000000000000;80.3000000000000;81;81.6000000000000;82.4000000000000;82.9000000000000;83.4000000000000;83.8000000000000;84.2000000000000;84.7000000000000;85.2000000000000;85.6000000000000;86.3000000000000;86.8000000000000;87.4000000000000;88;88.3000000000000;88.7000000000000;89;89.3000000000000;89.8000000000000;90.2000000000000;90.6000000000000;91;91.3000000000000;91.6000000000000;91.9000000000000;92.2000000000000;92.8000000000000;93.1000000000000;93.3000000000000;93.5000000000000;93.7000000000000;93.9000000000000;94;94.1000000000000;94.3000000000000;94.4000000000000;94.6000000000000;94.7000000000000;94.8000000000000;95;95.1000000000000;95.3000000000000;95.4000000000000;95.6000000000000;95.7000000000000;95.8000000000000;96;96.1000000000000;96.3000000000000;96.4000000000000;96.6000000000000;96.8000000000000;97;97.2000000000000;97.3000000000000;97.4000000000000;97.4000000000000;97.4000000000000;97.4000000000000;97.3000000000000;97.3000000000000;97.3000000000000;97.3000000000000;97.2000000000000;97.1000000000000;97;96.9000000000000;96.7000000000000;96.4000000000000;96.1000000000000;95.7000000000000;95.5000000000000;95.3000000000000;95.2000000000000;95;94.9000000000000;94.7000000000000;94.5000000000000;94.4000000000000;94.4000000000000;94.3000000000000;94.3000000000000;94.1000000000000;93.9000000000000;93.4000000000000;92.8000000000000;92;91.3000000000000;90.6000000000000;90;89.3000000000000;88.7000000000000;88.1000000000000;87.4000000000000;86.7000000000000;86;85.3000000000000;84.7000000000000;84.1000000000000;83.5000000000000;82.9000000000000;82.3000000000000;81.7000000000000;81.1000000000000;80.5000000000000;79.9000000000000;79.4000000000000;79.1000000000000;78.8000000000000;78.5000000000000;78.2000000000000;77.9000000000000;77.6000000000000;77.3000000000000;77;76.7000000000000;76;76;76;75.9000000000000;75.9000000000000;75.8000000000000;75.7000000000000;75.5000000000000;75.2000000000000;75;74.7000000000000;74.1000000000000;73.7000000000000;73.3000000000000;73.5000000000000;74;74.9000000000000;76.1000000000000;77.7000000000000;79.2000000000000;80.3000000000000;80.8000000000000;81;81;81;81;81;80.9000000000000;80.6000000000000;80.3000000000000;80;79.9000000000000;79.8000000000000;79.8000000000000;79.8000000000000;79.9000000000000;80;80.4000000000000;80.8000000000000;81.2000000000000;81.5000000000000;81.6000000000000;81.6000000000000;81.4000000000000;80.7000000000000;79.6000000000000;78.2000000000000;76.8000000000000;75.3000000000000;73.8000000000000;72.1000000000000;70.2000000000000;68.2000000000000;66.1000000000000;63.8000000000000;61.6000000000000;60.2000000000000;59.8000000000000;60.4000000000000;61.8000000000000;62.6000000000000;62.7000000000000;61.9000000000000;60;58.4000000000000;57.8000000000000;57.8000000000000;57.8000000000000;57.3000000000000;56.2000000000000;54.3000000000000;50.8000000000000;45.5000000000000;40.2000000000000;34.9000000000000;29.6000000000000;27.3000000000000;29.3000000000000;32.9000000000000;35.6000000000000;36.7000000000000;37.6000000000000;39.4000000000000;42.5000000000000;46.5000000000000;50.2000000000000;52.8000000000000;54.3000000000000;54.9000000000000;54.9000000000000;54.7000000000000;54.1000000000000;53.2000000000000;52.1000000000000;50.7000000000000;49.1000000000000;47.4000000000000;45.2000000000000;41.8000000000000;36.5000000000000;31.2000000000000;27.6000000000000;26.9000000000000;27.3000000000000;27.5000000000000;27.4000000000000;27.1000000000000;26.7000000000000;26.8000000000000;28.2000000000000;31.1000000000000;34.8000000000000;38.4000000000000;40.9000000000000;41.7000000000000;40.9000000000000;38.3000000000000;35.3000000000000;34.3000000000000;34.6000000000000;36.3000000000000;39.5000000000000;41.8000000000000;42.5000000000000;41.9000000000000;40.1000000000000;36.6000000000000;31.3000000000000;26;20.6000000000000;19.1000000000000;19.7000000000000;21.1000000000000;22;22.1000000000000;21.4000000000000;19.6000000000000;18.3000000000000;18;18.3000000000000;18.5000000000000;17.9000000000000;15;9.90000000000000;4.60000000000000;1.20000000000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;2.20000000000000;4.40000000000000;6.30000000000000;7.90000000000000;9.20000000000000;10.4000000000000;11.5000000000000;12.9000000000000;14.7000000000000;17;19.8000000000000;23.1000000000000;26.7000000000000;30.5000000000000;34.1000000000000;37.5000000000000;40.6000000000000;43.3000000000000;45.7000000000000;47.7000000000000;49.3000000000000;50.5000000000000;51.3000000000000;52.1000000000000;52.7000000000000;53.4000000000000;54;54.5000000000000;55;55.6000000000000;56.3000000000000;57.2000000000000;58.5000000000000;60.2000000000000;62.3000000000000;64.7000000000000;67.1000000000000;69.2000000000000;70.7000000000000;71.9000000000000;72.7000000000000;73.4000000000000;73.8000000000000;74.1000000000000;74;73.6000000000000;72.5000000000000;70.8000000000000;68.6000000000000;66.2000000000000;64;62.2000000000000;60.9000000000000;60.2000000000000;60;60.4000000000000;61.4000000000000;63.2000000000000;65.6000000000000;68.4000000000000;71.6000000000000;74.9000000000000;78.4000000000000;81.8000000000000;84.9000000000000;87.4000000000000;89;90;90.6000000000000;91;91.5000000000000;92;92.7000000000000;93.4000000000000;94.2000000000000;94.9000000000000;95.7000000000000;96.6000000000000;97.7000000000000;98.9000000000000;100.400000000000;102;103.600000000000;105.200000000000;106.800000000000;108.500000000000;110.200000000000;111.900000000000;113.700000000000;115.300000000000;116.800000000000;118.200000000000;119.500000000000;120.700000000000;121.800000000000;122.600000000000;123.200000000000;123.600000000000;123.700000000000;123.600000000000;123.300000000000;123;122.500000000000;122.100000000000;121.500000000000;120.800000000000;120;119.100000000000;118.100000000000;117.100000000000;116.200000000000;115.500000000000;114.900000000000;114.500000000000;114.100000000000;113.900000000000;113.700000000000;113.300000000000;112.900000000000;112.200000000000;111.400000000000;110.500000000000;109.500000000000;108.500000000000;107.700000000000;107.100000000000;106.600000000000;106.400000000000;106.200000000000;106.200000000000;106.200000000000;106.400000000000;106.500000000000;106.800000000000;107.200000000000;107.800000000000;108.500000000000;109.400000000000;110.500000000000;111.700000000000;113;114.100000000000;115.100000000000;115.900000000000;116.500000000000;116.700000000000;116.600000000000;116.200000000000;115.200000000000;113.800000000000;112;110.100000000000;108.300000000000;107;106.100000000000;105.800000000000;105.700000000000;105.700000000000;105.600000000000;105.300000000000;104.900000000000;104.400000000000;104;103.800000000000;103.900000000000;104.400000000000;105.100000000000;106.100000000000;107.200000000000;108.500000000000;109.900000000000;111.300000000000;112.700000000000;113.900000000000;115;116;116.800000000000;117.600000000000;118.400000000000;119.200000000000;120;120.800000000000;121.600000000000;122.300000000000;123.100000000000;123.800000000000;124.400000000000;125;125.400000000000;125.800000000000;126.100000000000;126.400000000000;126.600000000000;126.700000000000;126.800000000000;126.900000000000;126.900000000000;126.900000000000;126.800000000000;126.600000000000;126.300000000000;126;125.700000000000;125.600000000000;125.600000000000;125.800000000000;126.200000000000;126.600000000000;127;127.400000000000;127.600000000000;127.800000000000;127.900000000000;128;128.100000000000;128.200000000000;128.300000000000;128.400000000000;128.500000000000;128.600000000000;128.600000000000;128.500000000000;128.300000000000;128.100000000000;127.900000000000;127.600000000000;127.400000000000;127.200000000000;127;126.900000000000;126.800000000000;126.700000000000;126.800000000000;126.900000000000;127.100000000000;127.400000000000;127.700000000000;128.100000000000;128.500000000000;129;129.500000000000;130.100000000000;130.600000000000;131;131.200000000000;131.300000000000;131.200000000000;130.700000000000;129.800000000000;128.400000000000;126.500000000000;124.100000000000;121.600000000000;119;116.500000000000;114.100000000000;111.800000000000;109.500000000000;107.100000000000;104.800000000000;102.500000000000;100.400000000000;98.6000000000000;97.2000000000000;95.9000000000000;94.8000000000000;93.8000000000000;92.8000000000000;91.8000000000000;91;90.2000000000000;89.6000000000000;89.1000000000000;88.6000000000000;88.1000000000000;87.6000000000000;87.1000000000000;86.6000000000000;86.1000000000000;85.5000000000000;85;84.4000000000000;83.8000000000000;83.2000000000000;82.6000000000000;82;81.3000000000000;80.4000000000000;79.1000000000000;77.4000000000000;75.1000000000000;72.3000000000000;69.1000000000000;65.9000000000000;62.7000000000000;59.7000000000000;57;54.6000000000000;52.2000000000000;49.7000000000000;46.8000000000000;43.5000000000000;39.9000000000000;36.4000000000000;33.2000000000000;30.5000000000000;28.3000000000000;26.3000000000000;24.4000000000000;22.5000000000000;20.5000000000000;18.2000000000000;15.5000000000000;12.3000000000000;8.70000000000000;5.20000000000000;0;0;0;0;0;0];
WLTP_t=[0:1800].'; %Zeitvektor (transponiert)


%%Wirkungsgradkennfeld VKM
load('C:\Users\ohms\Desktop\Studentische Arbeiten\2021_PA_Getriebe\Gruppe2_VKM\VKM.mat');
eta=VKM.eta;
eta_n=VKM.n_axis;
eta_M=VKM.M_axis;


%%Simulation starten und Ergebnisse in die Variable "Ergebnis" schreiben
Ergebnis=sim('WLTP');

%%Beispielhafter Plot des Geschwindkeit und der Antriebsleistung über der Zeit als der Simulation
figure(1)
plot(Ergebnis.simout.time, Ergebnis.simout.Data(:,1), 'LineWidth', 2); %Geschwindigkeit in m/s über Zeit in s
hold on %Plotte in diesselbe Figure
P=2*pi().*Ergebnis.simout.Data(:,2).*Ergebnis.simout.Data(:,4)./60./1000; %Berechnng: Leistung in kW über Zeit in s (Punkte vor den Rechenzeichen erlauben Mulitplikation mit jedem einzelnen Eintrag des Vektors)
plot(Ergebnis.simout.time, movmean(P, 3), 'Color', 'r'); %Plot der Leistung mit gleitendem Mittelwertfilter über 3 Werte (glättet den Verlauf, Vorsicht mit solchen Spielereien!)
grid on %Gitter hinterlegen
hold off %keine weiteren Graphen in dieser Figure
legend('v_{fzg} in m/s', 'P_{an} in kW', 'Location', 'northwest'); %Legende oben links
title('Ergebnisse WLTP', 'FontSize', 20); %Titel der Graphik
xlabel('Zeit in s', 'FontSize', 16); %Titel x-Achse
set(gca,'FontSize', 16); %Größe Achsenbeschriftung allgemein
ylim([-10 50]); %yAchsengrenze
xlim([0 1810]); %xAchsengrenzen
xticks(0:300:1800); %xAchsenbeschriftung
